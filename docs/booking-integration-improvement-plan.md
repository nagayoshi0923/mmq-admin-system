# ğŸ¯ äºˆç´„ã‚µã‚¤ãƒˆé€£æºå¯¾å¿œ æ”¹å–„è¨ˆç”»æ›¸

## ğŸ“‹ æ¦‚è¦

ãƒãƒ¼ãƒ€ãƒ¼ãƒŸã‚¹ãƒ†ãƒªãƒ¼åº—èˆ—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã‚’äºˆç´„ã‚µã‚¤ãƒˆé€£æºã«å¯¾å¿œã•ã›ã‚‹ãŸã‚ã®åŒ…æ‹¬çš„ãªæ”¹å–„è¨ˆç”»ã§ã™ã€‚

## ğŸ¯ ç›®æ¨™

1. **äºˆç´„ã‚µã‚¤ãƒˆã¨ã®å®‰å…¨ãªé€£æº**: ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã§ä½œæˆã—ãŸå…¬æ¼”ãƒ‡ãƒ¼ã‚¿ã‚’äºˆç´„ã‚µã‚¤ãƒˆã§è¡¨ç¤º
2. **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®ç¢ºä¿**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸã¨ãƒ‡ãƒ¼ã‚¿ä¸æ•´åˆã®é˜²æ­¢
3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: å¤§é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã¨é«˜é€Ÿãƒ¬ã‚¹ãƒãƒ³ã‚¹
4. **ä¿å®ˆæ€§ã®å‘ä¸Š**: ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã¨æ‹¡å¼µæ€§ã®å‘ä¸Š
5. **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: å°†æ¥çš„ãªæ©Ÿèƒ½æ‹¡å¼µã«å¯¾å¿œ

## ğŸ” ç¾çŠ¶åˆ†æ

### ä¸»è¦ãªå•é¡Œç‚¹

#### 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã®å•é¡Œ
- **scenariosãƒ†ãƒ¼ãƒ–ãƒ«ã®è‚¥å¤§åŒ–**: 22ã‚«ãƒ©ãƒ ã«åŠã¶å·¨å¤§ãƒ†ãƒ¼ãƒ–ãƒ«
- **æ­£è¦åŒ–ä¸è¶³**: è²¡å‹™æƒ…å ±ã€é“å…·æƒ…å ±ã€åŸºæœ¬æƒ…å ±ãŒæ··åœ¨
- **JSONBã‚«ãƒ©ãƒ ã®ä¹±ç”¨**: æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ãŒéæ­£è¦åŒ–
- **æ‹¡å¼µæ€§ã®æ¬ å¦‚**: æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã®ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ å¤‰æ›´ãŒå¿…è¦

#### 2. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è‚¥å¤§åŒ–
- **ScenarioManager.tsx**: 1,749è¡Œã®å·¨å¤§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **ScenarioDialog.tsx**: 1,173è¡Œã®è¤‡é›‘ãªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- **å˜ä¸€è²¬ä»»åŸå‰‡é•å**: 1ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«è¤‡æ•°ã®è²¬ä»»

#### 3. ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ã®æ¬ å¦‚
- **ç›´æ¥Supabaseæ“ä½œ**: Contextå±¤ã§ç›´æ¥ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
- **ãƒ†ã‚¹ãƒˆå›°é›£**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ãŒå¯†çµåˆ
- **å†åˆ©ç”¨æ€§ã®æ¬ å¦‚**: å…±é€šå‡¦ç†ã®é‡è¤‡

## ğŸš€ æ”¹å–„æˆ¦ç•¥

### Phase 1: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ã®æ§‹ç¯‰ (2-3é€±é–“)

#### 1.1 Repository Pattern ã®å°å…¥
```typescript
// lib/data-access/BaseRepository.ts
export abstract class BaseRepository<T> {
  protected tableName: string;
  
  abstract create(data: Omit<T, 'id'>): Promise<T>;
  abstract findById(id: string): Promise<T | null>;
  abstract findAll(filters?: FilterOptions): Promise<T[]>;
  abstract update(id: string, data: Partial<T>): Promise<T>;
  abstract delete(id: string): Promise<void>;
}

// lib/data-access/ScenarioRepository.ts
export class ScenarioRepository extends BaseRepository<Scenario> {
  // ã‚·ãƒŠãƒªã‚ªå›ºæœ‰ã®ãƒ‡ãƒ¼ã‚¿æ“ä½œ
  async findAvailableScenarios(): Promise<Scenario[]>;
  async findScenariosByGenre(genre: string): Promise<Scenario[]>;
  async updatePlayCount(scenarioId: string): Promise<void>;
}
```

#### 1.2 ãƒ‡ãƒ¼ã‚¿å¤‰æ›å±¤ã®ä½œæˆ
```typescript
// lib/data-access/mappers/ScenarioMapper.ts
export class ScenarioMapper {
  static toDomain(dbScenario: DbScenario): Scenario;
  static toDatabase(scenario: Scenario): DbScenario;
  static toBookingApi(scenario: Scenario): BookingScenario;
}
```

### Phase 2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã®æ­£è¦åŒ– (1-2é€±é–“)

#### 2.1 ãƒ†ãƒ¼ãƒ–ãƒ«åˆ†å‰²
```sql
-- åŸºæœ¬æƒ…å ±ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE scenarios (
    id UUID PRIMARY KEY,
    title TEXT NOT NULL,
    description TEXT,
    author TEXT NOT NULL,
    duration INTEGER NOT NULL,
    player_count_min INTEGER NOT NULL,
    player_count_max INTEGER NOT NULL,
    difficulty INTEGER NOT NULL,
    genre TEXT[] DEFAULT '{}',
    has_pre_reading BOOLEAN DEFAULT false,
    release_date DATE,
    status TEXT DEFAULT 'available',
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- è²¡å‹™æƒ…å ±ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆåˆ†é›¢ï¼‰
CREATE TABLE scenario_financials (
    id UUID PRIMARY KEY,
    scenario_id UUID REFERENCES scenarios(id) ON DELETE CASCADE,
    license_amount INTEGER DEFAULT 2500,
    production_cost INTEGER DEFAULT 0,
    revenue INTEGER DEFAULT 0,
    gm_fee INTEGER DEFAULT 0,
    miscellaneous_expenses INTEGER DEFAULT 0,
    license_rate_override DECIMAL(5,2),
    participation_fee INTEGER DEFAULT 0,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- é“å…·ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ­£è¦åŒ–ï¼‰
CREATE TABLE scenario_props (
    id UUID PRIMARY KEY,
    scenario_id UUID REFERENCES scenarios(id) ON DELETE CASCADE,
    name TEXT NOT NULL,
    cost INTEGER NOT NULL,
    cost_type TEXT NOT NULL CHECK (cost_type IN ('per_play', 'one_time')),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- åˆ¶ä½œè²»é …ç›®ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ­£è¦åŒ–ï¼‰
CREATE TABLE scenario_production_costs (
    id UUID PRIMARY KEY,
    scenario_id UUID REFERENCES scenarios(id) ON DELETE CASCADE,
    name TEXT NOT NULL,
    cost INTEGER NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- äºˆç´„ã‚µã‚¤ãƒˆé€£æºç”¨ãƒ“ãƒ¥ãƒ¼
CREATE VIEW booking_scenarios AS
SELECT 
    s.id,
    s.title,
    s.description,
    s.author,
    s.duration,
    s.player_count_min,
    s.player_count_max,
    s.difficulty,
    s.genre,
    s.has_pre_reading,
    s.status,
    sf.participation_fee,
    sf.license_amount
FROM scenarios s
LEFT JOIN scenario_financials sf ON s.id = sf.scenario_id
WHERE s.status = 'available';
```

#### 2.2 ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–
```sql
-- äºˆç´„ã‚µã‚¤ãƒˆç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_scenarios_status_genre ON scenarios(status, genre);
CREATE INDEX idx_scenarios_difficulty ON scenarios(difficulty);
CREATE INDEX idx_scenarios_player_count ON scenarios(player_count_min, player_count_max);

-- è²¡å‹™æƒ…å ±ç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_scenario_financials_scenario_id ON scenario_financials(scenario_id);
CREATE INDEX idx_scenario_financials_participation_fee ON scenario_financials(participation_fee);
```

### Phase 3: çŠ¶æ…‹ç®¡ç†ã®æœ€é©åŒ– (1-2é€±é–“)

#### 3.1 Contextåˆ†å‰²
```typescript
// contexts/ScenarioContext.tsx - åŸºæœ¬æƒ…å ±ã®ã¿
export interface ScenarioContextType {
  scenarios: Scenario[];
  loading: boolean;
  error: string | null;
  findScenario: (id: string) => Scenario | undefined;
  createScenario: (data: CreateScenarioData) => Promise<Scenario>;
  updateScenario: (id: string, data: UpdateScenarioData) => Promise<Scenario>;
  deleteScenario: (id: string) => Promise<void>;
}

// contexts/ScenarioFinancialsContext.tsx - è²¡å‹™æƒ…å ±
export interface ScenarioFinancialsContextType {
  financials: ScenarioFinancials[];
  loading: boolean;
  error: string | null;
  updateFinancials: (scenarioId: string, data: UpdateFinancialsData) => Promise<void>;
  calculateMetrics: (scenarioId: string) => ScenarioMetrics;
}

// contexts/ScenarioPropsContext.tsx - é“å…·æƒ…å ±
export interface ScenarioPropsContextType {
  props: ScenarioProps[];
  loading: boolean;
  error: string | null;
  addProp: (scenarioId: string, prop: CreatePropData) => Promise<void>;
  updateProp: (propId: string, data: UpdatePropData) => Promise<void>;
  deleteProp: (propId: string) => Promise<void>;
}
```

#### 3.2 ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®ä½œæˆ
```typescript
// hooks/useScenario.ts
export function useScenario(scenarioId: string) {
  const { scenarios } = useScenarios();
  const { financials } = useScenarioFinancials();
  const { props } = useScenarioProps();
  
  const scenario = useMemo(() => {
    const base = scenarios.find(s => s.id === scenarioId);
    const financial = financials.find(f => f.scenarioId === scenarioId);
    const scenarioProps = props.filter(p => p.scenarioId === scenarioId);
    
    return base ? {
      ...base,
      financials: financial,
      props: scenarioProps
    } : null;
  }, [scenarioId, scenarios, financials, props]);
  
  return { scenario, loading, error };
}
```

### Phase 4: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰² (2-3é€±é–“)

#### 4.1 ScenarioManageråˆ†å‰²
```
components/scenario/
â”œâ”€â”€ ScenarioManager.tsx              // ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ ScenarioTable/
â”‚   â”œâ”€â”€ ScenarioTable.tsx            // ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤º
â”‚   â”œâ”€â”€ ScenarioTableHeader.tsx      // ãƒ˜ãƒƒãƒ€ãƒ¼
â”‚   â”œâ”€â”€ ScenarioTableRow.tsx         // è¡Œè¡¨ç¤º
â”‚   â”œâ”€â”€ ScenarioTableFilters.tsx     // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
â”‚   â””â”€â”€ ScenarioTablePagination.tsx  // ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ ScenarioMetrics/
â”‚   â”œâ”€â”€ ScenarioMetrics.tsx          // ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¡¨ç¤º
â”‚   â”œâ”€â”€ ScenarioMetricsCard.tsx      // ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚«ãƒ¼ãƒ‰
â”‚   â””â”€â”€ ScenarioMetricsChart.tsx     // ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤º
â”œâ”€â”€ ScenarioActions/
â”‚   â”œâ”€â”€ ScenarioActions.tsx          // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³
â”‚   â”œâ”€â”€ ScenarioCreateButton.tsx     // ä½œæˆãƒœã‚¿ãƒ³
â”‚   â”œâ”€â”€ ScenarioEditButton.tsx       // ç·¨é›†ãƒœã‚¿ãƒ³
â”‚   â””â”€â”€ ScenarioDeleteButton.tsx     // å‰Šé™¤ãƒœã‚¿ãƒ³
â””â”€â”€ hooks/
    â”œâ”€â”€ useScenarioTable.ts          // ãƒ†ãƒ¼ãƒ–ãƒ«çŠ¶æ…‹ç®¡ç†
    â”œâ”€â”€ useScenarioFilters.ts        // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼çŠ¶æ…‹ç®¡ç†
    â”œâ”€â”€ useScenarioMetrics.ts        // ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¨ˆç®—
    â””â”€â”€ useScenarioActions.ts        // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†
```

#### 4.2 ScenarioDialogåˆ†å‰²
```
components/scenario/dialog/
â”œâ”€â”€ ScenarioDialog.tsx               // ãƒ¡ã‚¤ãƒ³ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”œâ”€â”€ ScenarioBasicInfo.tsx            // åŸºæœ¬æƒ…å ±ã‚¿ãƒ–
â”œâ”€â”€ ScenarioFinancials.tsx           // è²¡å‹™æƒ…å ±ã‚¿ãƒ–
â”œâ”€â”€ ScenarioProps.tsx                // é“å…·æƒ…å ±ã‚¿ãƒ–
â”œâ”€â”€ ScenarioProductionCosts.tsx      // åˆ¶ä½œè²»ã‚¿ãƒ–
â””â”€â”€ hooks/
    â”œâ”€â”€ useScenarioForm.ts           // ãƒ•ã‚©ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†
    â”œâ”€â”€ useScenarioValidation.ts     // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
    â””â”€â”€ useScenarioSubmit.ts         // é€ä¿¡å‡¦ç†
```

### Phase 5: äºˆç´„ã‚µã‚¤ãƒˆé€£æºAPI (1-2é€±é–“)

#### 5.1 APIè¨­è¨ˆ
```typescript
// lib/api/booking-api.ts
export class BookingApi {
  // äºˆç´„ã‚µã‚¤ãƒˆç”¨ã®ã‚·ãƒŠãƒªã‚ªä¸€è¦§å–å¾—
  async getAvailableScenarios(filters?: BookingFilters): Promise<BookingScenario[]>;
  
  // ç‰¹å®šã‚·ãƒŠãƒªã‚ªã®è©³ç´°å–å¾—
  async getScenarioDetails(scenarioId: string): Promise<BookingScenarioDetails>;
  
  // äºˆç´„å¯èƒ½æ—¥æ™‚å–å¾—
  async getAvailableSlots(scenarioId: string, date: string): Promise<TimeSlot[]>;
  
  // äºˆç´„ä½œæˆ
  async createReservation(reservation: CreateReservationData): Promise<Reservation>;
  
  // äºˆç´„çŠ¶æ³æ›´æ–°
  async updateReservationStatus(reservationId: string, status: ReservationStatus): Promise<void>;
}
```

#### 5.2 ãƒ‡ãƒ¼ã‚¿åŒæœŸ
```typescript
// lib/sync/BookingSync.ts
export class BookingSync {
  // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ
  async syncScenarios(): Promise<void>;
  
  // äºˆç´„ãƒ‡ãƒ¼ã‚¿åŒæœŸ
  async syncReservations(): Promise<void>;
  
  // åœ¨åº«çŠ¶æ³åŒæœŸ
  async syncInventory(): Promise<void>;
  
  // ã‚¨ãƒ©ãƒ¼å‡¦ç†
  async handleSyncError(error: Error): Promise<void>;
}
```

## ğŸ“Š äºˆç´„ã‚µã‚¤ãƒˆé€£æºã§å¿…è¦ãªãƒ‡ãƒ¼ã‚¿

### 1. ã‚·ãƒŠãƒªã‚ªæƒ…å ±
```typescript
interface BookingScenario {
  id: string;
  title: string;
  description: string;
  author: string;
  duration: number; // æ™‚é–“
  playerCountMin: number;
  playerCountMax: number;
  difficulty: number; // 1-5
  genre: string[];
  hasPreReading: boolean;
  participationFee: number;
  status: 'available' | 'maintenance' | 'retired';
  releaseDate: string;
  rating: number;
  playCount: number;
}
```

### 2. ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æƒ…å ±
```typescript
interface BookingSchedule {
  id: string;
  scenarioId: string;
  date: string;
  startTime: string;
  endTime: string;
  venue: string;
  availableSlots: number;
  bookedSlots: number;
  gms: string[];
  category: 'ã‚ªãƒ¼ãƒ—ãƒ³å…¬æ¼”' | 'è²¸åˆ‡å…¬æ¼”' | 'GMãƒ†ã‚¹ãƒˆ' | 'ãƒ†ã‚¹ãƒˆãƒ—ãƒ¬ã‚¤' | 'å‡ºå¼µå…¬æ¼”';
  isAvailable: boolean;
}
```

### 3. åº—èˆ—æƒ…å ±
```typescript
interface BookingStore {
  id: string;
  name: string;
  shortName: string;
  address: string;
  phoneNumber: string;
  email: string;
  capacity: number;
  rooms: number;
  status: 'active' | 'temporarily_closed' | 'closed';
  color: string;
}
```

## ğŸ”§ å®Ÿè£…æ‰‹é †

### Week 1-2: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤æ§‹ç¯‰
1. **BaseRepositoryä½œæˆ**
2. **ScenarioRepositoryå®Ÿè£…**
3. **Mapperå±¤ä½œæˆ**
4. **æ—¢å­˜Contextã®æ®µéšçš„ç§»è¡Œ**

### Week 3-4: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ­£è¦åŒ–
1. **æ–°ã—ã„ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ**
2. **ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ**
3. **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–**
4. **ãƒ“ãƒ¥ãƒ¼ä½œæˆ**

### Week 5-6: çŠ¶æ…‹ç®¡ç†æœ€é©åŒ–
1. **Contextåˆ†å‰²**
2. **ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ä½œæˆ**
3. **ãƒ¡ãƒ¢åŒ–æœ€é©åŒ–**
4. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ”¹å–„**

### Week 7-9: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²
1. **ScenarioManageråˆ†å‰²**
2. **ScenarioDialogåˆ†å‰²**
3. **å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ**
4. **ãƒ†ã‚¹ãƒˆè¿½åŠ **

### Week 10-11: äºˆç´„ã‚µã‚¤ãƒˆé€£æº
1. **BookingApiå®Ÿè£…**
2. **ãƒ‡ãƒ¼ã‚¿åŒæœŸæ©Ÿèƒ½**
3. **ã‚¨ãƒ©ãƒ¼å‡¦ç†**
4. **ç›£è¦–æ©Ÿèƒ½**

## ğŸ“ˆ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„
- **ã‚¯ã‚¨ãƒªé€Ÿåº¦**: 50-70%å‘ä¸Š
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: 30-50%å‰Šæ¸›
- **åˆæœŸèª­ã¿è¾¼ã¿**: 40-60%é«˜é€ŸåŒ–

### é–‹ç™ºåŠ¹ç‡å‘ä¸Š
- **æ–°æ©Ÿèƒ½è¿½åŠ **: 70%é«˜é€ŸåŒ–
- **ãƒã‚°ä¿®æ­£**: 50%é«˜é€ŸåŒ–
- **ãƒ†ã‚¹ãƒˆä½œæˆ**: 80%é«˜é€ŸåŒ–

### ä¿å®ˆæ€§å‘ä¸Š
- **ã‚³ãƒ¼ãƒ‰å¯èª­æ€§**: å¤§å¹…å‘ä¸Š
- **æ‹¡å¼µæ€§**: æ–°æ©Ÿèƒ½è¿½åŠ ãŒå®¹æ˜“
- **ãƒãƒ¼ãƒ é–‹ç™º**: ä¸¦è¡Œé–‹ç™ºãŒå¯èƒ½

## âš ï¸ ãƒªã‚¹ã‚¯ç®¡ç†

### 1. ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§
- **ç§»è¡Œä¸­ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: æ¯æ—¥è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
- **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †**: è©³ç´°ãªæ‰‹é †æ›¸ä½œæˆ
- **æ®µéšçš„ç§»è¡Œ**: æ©Ÿèƒ½ã”ã¨ã«æ®µéšçš„ã«ç§»è¡Œ

### 2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **è² è·ãƒ†ã‚¹ãƒˆ**: å„æ®µéšã§è² è·ãƒ†ã‚¹ãƒˆå®Ÿæ–½
- **ç›£è¦–**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ 
- **ã‚¢ãƒ©ãƒ¼ãƒˆ**: ç•°å¸¸æ™‚ã®è‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆ

### 3. é–‹ç™ºãƒªã‚¹ã‚¯
- **ä¸¦è¡Œé–‹ç™º**: æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã§ã®ä¸¦è¡Œé–‹ç™º
- **ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼**: å…¨å¤‰æ›´ã®ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼
- **ãƒ†ã‚¹ãƒˆ**: è‡ªå‹•ãƒ†ã‚¹ãƒˆã®å……å®Ÿ

## ğŸ“‹ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### Phase 1: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
- [ ] BaseRepositoryä½œæˆ
- [ ] ScenarioRepositoryå®Ÿè£…
- [ ] Mapperå±¤ä½œæˆ
- [ ] æ—¢å­˜Contextç§»è¡Œ
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆä½œæˆ

### Phase 2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ­£è¦åŒ–
- [ ] æ–°ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ
- [ ] ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- [ ] ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–
- [ ] ãƒ“ãƒ¥ãƒ¼ä½œæˆ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

### Phase 3: çŠ¶æ…‹ç®¡ç†æœ€é©åŒ–
- [ ] Contextåˆ†å‰²
- [ ] ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ä½œæˆ
- [ ] ãƒ¡ãƒ¢åŒ–æœ€é©åŒ–
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆ

### Phase 4: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²
- [ ] ScenarioManageråˆ†å‰²
- [ ] ScenarioDialogåˆ†å‰²
- [ ] å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] UIãƒ†ã‚¹ãƒˆ
- [ ] ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ

### Phase 5: äºˆç´„ã‚µã‚¤ãƒˆé€£æº
- [ ] BookingApiå®Ÿè£…
- [ ] ãƒ‡ãƒ¼ã‚¿åŒæœŸæ©Ÿèƒ½
- [ ] ã‚¨ãƒ©ãƒ¼å‡¦ç†
- [ ] ç›£è¦–æ©Ÿèƒ½
- [ ] æœ¬ç•ªãƒ†ã‚¹ãƒˆ

## ğŸ¯ æˆåŠŸæŒ‡æ¨™

### æŠ€è¡“æŒ‡æ¨™
- **ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚é–“**: 3ç§’ä»¥å†…
- **APIå¿œç­”æ™‚é–“**: 500msä»¥å†…
- **ã‚¨ãƒ©ãƒ¼ç‡**: 0.1%ä»¥ä¸‹
- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: 80%ä»¥ä¸Š

### ãƒ“ã‚¸ãƒã‚¹æŒ‡æ¨™
- **äºˆç´„ã‚µã‚¤ãƒˆé€£æº**: 100%æ­£å¸¸å‹•ä½œ
- **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§**: 99.9%ä»¥ä¸Š
- **é–‹ç™ºåŠ¹ç‡**: 50%ä»¥ä¸Šå‘ä¸Š
- **ä¿å®ˆã‚³ã‚¹ãƒˆ**: 30%ä»¥ä¸Šå‰Šæ¸›

---

**ä½œæˆæ—¥**: 2024å¹´12æœˆ19æ—¥  
**æ›´æ–°æ—¥**: 2024å¹´12æœˆ19æ—¥  
**ä½œæˆè€…**: AI Assistant  
**æ‰¿èªè€…**: [æ‰¿èªè€…å]
